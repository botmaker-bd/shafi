[
    {
        "id": "python_calculator",
        "name": "Python Calculator", 
        "patterns": "/pythoncalc, pycalc, calculate",
        "description": "Advanced calculator using Python",
        "code": "const user = getUser();\nApi.sendMessage(`üî¢ *Python Calculator*\\\\n\\\\nHello ${user.first_name}! Enter a math expression:\\\\n\\\\nExamples:\\\\n‚Ä¢ 2 + 2\\\\n‚Ä¢ 10 * 5\\\\n‚Ä¢ math.sqrt(25)`, {\n    parse_mode: 'Markdown'\n});\n\nUser.saveData('calc_mode', 'awaiting_expression');",
        "waitForAnswer": true,
        "answerHandler": "const userInput = params;\n\nif (User.getData('calc_mode') === 'awaiting_expression') {\n    Api.sendMessage(`üßÆ Calculating: ${userInput}...`);\n    \n    try {\n        // Simple math evaluation without Python for reliability\n        const safeEval = (expr) => {\n            // Remove dangerous characters\n            const cleanExpr = expr.replace(/[^0-9+\\-*/().sqrtœÄ]/g, '');\n            \n            // Basic math operations\n            if (/^[0-9+\\-*/().\\s]+$/.test(cleanExpr)) {\n                try {\n                    return eval(cleanExpr);\n                } catch {\n                    return 'Invalid expression';\n                }\n            }\n            return 'Only basic math allowed';\n        };\n        \n        const result = safeEval(userInput);\n        \n        Api.sendMessage(`‚úÖ *Calculation Result*\\\\n\\\\nExpression: \\\\`${userInput}\\\\`\\\\nResult: \\\\`${result}\\\\``, {\n            parse_mode: 'Markdown'\n        });\n        \n    } catch (error) {\n        Api.sendMessage(`‚ùå Calculation error: ${error.message}`);\n    }\n    \n    User.saveData('calc_mode', null);\n}"
    }
]