[
    {
        "id": "admin_dashboard",
        "name": "Admin Dashboard",
        "patterns": "/admin, dashboard, panel, control",
        "description": "Complete admin panel with statistics and controls",
        "code": "// Check admin privileges\nconst user = getUser();\nconst isAdmin = User.getData('is_admin') || user.id === 123456789; // Replace with actual admin check\n\nif (!isAdmin) {\n    return Api.sendMessage(\"âŒ *Access Denied*\\\\n\\\\nYou don't have permission to access the admin panel.\", {\n        parse_mode: 'Markdown'\n    });\n}\n\n// Get bot statistics (mock data - replace with real data)\nconst stats = {\n    totalUsers: 150,\n    activeToday: 23,\n    totalCommands: 45,\n    messagesToday: 127,\n    uptime: '99.8%',\n    memoryUsage: '45.2 MB'\n};\n\nconst statsText = `ğŸ› ï¸ *Admin Dashboard*\\\\n\\\\n` +\n`ğŸ“Š *Statistics:*\\\\n` +\n`â€¢ Total Users: ${stats.totalUsers}\\\\n` +\n`â€¢ Active Today: ${stats.activeToday}\\\\n` +\n`â€¢ Total Commands: ${stats.totalCommands}\\\\n` +\n`â€¢ Messages Today: ${stats.messagesToday}\\\\n` +\n`â€¢ Uptime: ${stats.uptime}\\\\n` +\n`â€¢ Memory: ${stats.memoryUsage}\\\\n\\\\n` +\n`ğŸ•’ Last Updated: ${new Date().toLocaleTimeString()}`;\n\nconst adminButtons = [\n    [\n        { text: \"ğŸ“Š Statistics\", callback_data: \"admin_stats\" },\n        { text: \"ğŸ‘¥ Users\", callback_data: \"admin_users\" }\n    ],\n    [\n        { text: \"âš™ï¸ Settings\", callback_data: \"admin_settings\" },\n        { text: \"ğŸ”§ Maintenance\", callback_data: \"admin_maintenance\" }\n    ],\n    [\n        { text: \"ğŸ“¢ Broadcast\", callback_data: \"admin_broadcast\" },\n        { text: \"ğŸ“ Logs\", callback_data: \"admin_logs\" }\n    ],\n    [\n        { text: \"ğŸ”„ Refresh\", callback_data: \"admin_refresh\" },\n        { text: \"ğŸšª Exit\", callback_data: \"admin_exit\" }\n    ]\n];\n\nApi.sendMessage(statsText, {\n    parse_mode: 'Markdown',\n    reply_markup: { inline_keyboard: adminButtons }\n});",
        "waitForAnswer": false,
        "answerHandler": ""
    },
    {
        "id": "broadcast_system",
        "name": "Broadcast System", 
        "patterns": "/broadcast, announce, notifyall",
        "description": "Send messages to all users with scheduling options",
        "code": "// Admin check\nconst isAdmin = User.getData('is_admin') || getUser().id === 123456789;\nif (!isAdmin) {\n    return Api.sendMessage(\"âŒ Admin access required for broadcasting.\");\n}\n\nconst broadcastOptions = `ğŸ“¢ *Broadcast System*\\\\n\\\\nPlease choose broadcast type:\\\\n\\\\n` +\n`ğŸ“ *Instant* - Send immediately to all users\\\\n` +\n`â° *Scheduled* - Schedule for later delivery\\\\n` +\n`ğŸ¯ *Targeted* - Send to specific user groups\\\\n` +\n`ğŸ“Š *Test* - Send test to yourself first`;\n\nconst broadcastButtons = [\n    [{ text: \"ğŸ“ Instant Broadcast\", callback_data: \"broadcast_instant\" }],\n    [{ text: \"â° Schedule Broadcast\", callback_data: \"broadcast_schedule\" }],\n    [{ text: \"ğŸ¯ Targeted Broadcast\", callback_data: \"broadcast_targeted\" }],\n    [{ text: \"ğŸ“Š Test Broadcast\", callback_data: \"broadcast_test\" }],\n    [{ text: \"âŒ Cancel\", callback_data: \"broadcast_cancel\" }]\n];\n\nUser.saveData('broadcast_mode', 'selecting_type');\n\nApi.sendMessage(broadcastOptions, {\n    parse_mode: 'Markdown',\n    reply_markup: { inline_keyboard: broadcastButtons }\n});",
        "waitForAnswer": true,
        "answerHandler": "const broadcastMode = User.getData('broadcast_mode');\nconst userInput = params;\n\nif (broadcastMode === 'selecting_type') {\n    if (userInput.toLowerCase().includes('instant')) {\n        User.saveData('broadcast_mode', 'writing_message');\n        User.saveData('broadcast_type', 'instant');\n        Api.sendMessage(\"âœï¸ *Instant Broadcast*\\\\n\\\\nPlease write your broadcast message:\", {\n            parse_mode: 'Markdown'\n        });\n    } else if (userInput.toLowerCase().includes('test')) {\n        User.saveData('broadcast_mode', 'writing_message');\n        User.saveData('broadcast_type', 'test');\n        Api.sendMessage(\"ğŸ§ª *Test Broadcast*\\\\n\\\\nPlease write your test message:\", {\n            parse_mode: 'Markdown'\n        });\n    } else {\n        Api.sendMessage(\"Please select a valid broadcast type from the buttons.\");\n    }\n} else if (broadcastMode === 'writing_message') {\n    const broadcastType = User.getData('broadcast_type');\n    \n    if (broadcastType === 'test') {\n        // Send test to current user\n        Api.sendMessage(`ğŸ§ª *Test Broadcast*\\\\n\\\\n${userInput}`);\n        Api.sendMessage(\"âœ… Test message sent to yourself!\");\n    } else if (broadcastType === 'instant') {\n        // In real implementation, send to all users\n        Api.sendMessage(`ğŸ“¢ *Broadcast Preview*\\\\n\\\\n${userInput}\\\\n\\\\n*This would be sent to all users in production.*`, {\n            parse_mode: 'Markdown'\n        });\n    }\n    \n    User.saveData('broadcast_mode', null);\n    User.saveData('broadcast_type', null);\n}"
    }
]