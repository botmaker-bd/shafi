[
    {
        "id": "multi_step_registration",
        "name": "Multi-step Registration",
        "patterns": "/register, signup, join, setup",
        "description": "Complete user registration with validation and progress tracking",
        "code": "// Initialize registration process\nUser.saveData('registration_step', 'welcome');\nUser.saveData('registration_data', JSON.stringify({}));\n\nconst welcomeMsg = `ğŸ“ *Registration Process*\\n\\nLet's get you registered! This will only take a minute.\\n\\nWe'll collect:\\nâœ… Your name\\nâœ… Email address\\nâœ… Age\\nâœ… Preferences\\n\\nReady to begin?`;\n\nconst startButtons = [\n    [{ text: \"ğŸš€ Start Registration\", callback_data: \"start_reg\" }],\n    [{ text: \"â¸ï¸ Maybe Later\", callback_data: \"cancel_reg\" }]\n];\n\nbot.sendMessage(welcomeMsg, {\n    parse_mode: 'Markdown',\n    reply_markup: { inline_keyboard: startButtons }\n});",
        "waitForAnswer": true,
        "answerHandler": "const step = User.getData('registration_step');\nconst regData = JSON.parse(User.getData('registration_data') || '{}');\nconst userInput = params;\n\nswitch(step) {\n    case 'welcome':\n        if (userInput.toLowerCase() === 'yes' || userInput === 'start') {\n            User.saveData('registration_step', 'name');\n            bot.sendMessage(\"Great! What's your full name?\");\n        } else {\n            bot.sendMessage(\"No problem! You can register anytime with /register\");\n            User.saveData('registration_step', null);\n        }\n        break;\n        \n    case 'name':\n        if (userInput.length < 2) {\n            bot.sendMessage(\"Please enter a valid name (at least 2 characters):\");\n            return;\n        }\n        regData.name = userInput;\n        User.saveData('registration_data', JSON.stringify(regData));\n        User.saveData('registration_step', 'email');\n        bot.sendMessage(`Nice to meet you, ${userInput}! ğŸ“§ What's your email address?`);\n        break;\n        \n    case 'email':\n        if (!userInput.includes('@') || !userInput.includes('.')) {\n            bot.sendMessage(\"Please enter a valid email address:\");\n            return;\n        }\n        regData.email = userInput;\n        User.saveData('registration_data', JSON.stringify(regData));\n        User.saveData('registration_step', 'age');\n        bot.sendMessage(\"Email saved! How old are you?\");\n        break;\n        \n    case 'age':\n        const age = parseInt(userInput);\n        if (isNaN(age) || age < 1 || age > 120) {\n            bot.sendMessage(\"Please enter a valid age (1-120):\");\n            return;\n        }\n        regData.age = age;\n        User.saveData('registration_data', JSON.stringify(regData));\n        \n        // Registration complete\n        const completionMsg = `âœ… *Registration Complete!*\\n\\nğŸ“‹ *Your Details:*\\nâ€¢ Name: ${regData.name}\\nâ€¢ Email: ${regData.email}\\nâ€¢ Age: ${regData.age}\\n\\nğŸ‰ Welcome to our community!`;\n        \n        bot.sendMessage(completionMsg, { parse_mode: 'Markdown' });\n        User.saveData('registration_step', null);\n        User.saveData('is_registered', true);\n        break;\n}"
    },
    {
        "id": "interactive_quiz",
        "name": "Interactive Quiz",
        "patterns": "/quiz, test, exam, challenge",
        "description": "Multiple choice quiz with scoring and progress tracking",
        "code": "const quizData = {\n    questions: [\n        {\n            question: \"What is the capital of France?\",\n            options: [\"London\", \"Berlin\", \"Paris\", \"Madrid\"],\n            correct: 2\n        },\n        {\n            question: \"Which planet is known as the Red Planet?\",\n            options: [\"Venus\", \"Mars\", \"Jupiter\", \"Saturn\"],\n            correct: 1\n        },\n        {\n            question: \"What is 2 + 2?\",\n            options: [\"3\", \"4\", \"5\", \"6\"],\n            correct: 1\n        }\n    ]\n};\n\nUser.saveData('quiz_data', JSON.stringify(quizData));\nUser.saveData('quiz_current_question', 0);\nUser.saveData('quiz_score', 0);\n\n// Start quiz\nsendQuestion(0);\n\nfunction sendQuestion(index) {\n    const question = quizData.questions[index];\n    let questionText = `â“ *Question ${index + 1}/${quizData.questions.length}*\\n\\n${question.question}`;\n    \n    const buttons = question.options.map((option, i) => [\n        { text: option, callback_data: `quiz_${index}_${i}` }\n    ]);\n    \n    bot.sendMessage(questionText, {\n        parse_mode: 'Markdown',\n        reply_markup: { inline_keyboard: buttons }\n    });\n}",
        "waitForAnswer": false,
        "answerHandler": ""
    }
]